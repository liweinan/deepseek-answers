# Next.js Step-by-Step Tutorial

Next.js is a popular React framework that provides server-side rendering, static site generation, and other features. Here's a complete Next.js tutorial from scratch.

## 1. Environment Preparation

First, ensure you have installed:

- Node.js (recommended latest LTS version)
- npm or yarn (Node.js comes with npm)
- Code editor (such as VS Code)

## 2. Create Next.js Project

Open terminal and run the following commands:

```bash
npx create-next-app@latest my-next-app
# or
yarn create next-app my-next-app
```

During creation, you will be asked some configuration options:

```
√ Would you like to use TypeScript? ... No / Yes
√ Would you like to use ESLint? ... No / Yes
√ Would you like to use Tailwind CSS? ... No / Yes
√ Would you like to use `src/` directory? ... No / Yes
√ Would you like to use App Router? (recommended) ... No / Yes
√ Would you like to customize the default import alias? ... No / Yes
```

For beginners, you can choose all default options or select based on your needs.

## 3. Project Structure

After creation, the project structure is roughly as follows (using App Router):

```
my-next-app/
├── node_modules/
├── public/
├── src/
│   ├── app/
│   │   ├── favicon.ico
│   │   ├── globals.css
│   │   ├── layout.tsx
│   │   └── page.tsx
│   └── styles/
├── .eslintrc.json
├── .gitignore
├── next.config.js
├── package.json
└── tsconfig.json
```

## 4. Run Development Server

Enter the project directory and start the development server:

```bash
cd my-next-app
npm run dev
# or
yarn dev
```

Open your browser and visit `http://localhost:3000`, you should see the Next.js welcome page.

## 5. Create Your First Page

### Using App Router (Next.js 13+)

1. Open the `src/app/page.tsx` file
2. Replace the content with:

```tsx
export default function Home() {
  return (
    <main className="min-h-screen p-24">
      <h1 className="text-4xl font-bold">Welcome to My Next.js App</h1>
      <p className="mt-4 text-xl">This is my first Next.js page</p>
    </main>
  )
}
```

The page will automatically refresh after saving.

### Create New Page

1. Create a new folder under the `app` directory, for example `about`
2. Create a `page.tsx` file in the `about` folder:

```tsx
export default function About() {
  return (
    <main className="min-h-screen p-24">
      <h1 className="text-4xl font-bold">About Us</h1>
      <p className="mt-4 text-xl">This is the about page</p>
    </main>
  )
}
```

Now visit `http://localhost:3000/about` to see the new page.

## 6. Add Navigation

Modify `src/app/layout.tsx` to add navigation bar:

```tsx
import './globals.css'
import type { Metadata } from 'next'
import { Inter } from 'next/font/google'
import Link from 'next/link'

const inter = Inter({ subsets: ['latin'] })

export const metadata: Metadata = {
  title: 'My Next.js App',
  description: 'Generated by create next app',
}

export default function RootLayout({
  children,
}: {
  children: React.ReactNode
}) {
  return (
    <html lang="en">
      <body className={inter.className}>
        <nav className="bg-gray-800 p-4">
          <div className="container mx-auto flex space-x-4">
            <Link href="/" className="text-white hover:text-gray-300">Home</Link>
            <Link href="/about" className="text-white hover:text-gray-300">About</Link>
          </div>
        </nav>
        {children}
      </body>
    </html>
  )
}
```

## 7. Data Fetching

Next.js provides multiple data fetching methods. Here's an example using App Router:

### Server Component Data Fetching

Create `src/app/products/page.tsx`:

```tsx
interface Product {
  id: number
  title: string
  price: number
}

async function getProducts(): Promise<Product[]> {
  // Simulate API call
  const res = await fetch('https://fakestoreapi.com/products')
  if (!res.ok) {
    throw new Error('Failed to fetch data')
  }
  return res.json()
}

export default async function ProductsPage() {
  const products = await getProducts()

  return (
    <main className="min-h-screen p-24">
      <h1 className="text-4xl font-bold mb-8">Product List</h1>
      <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
        {products.map((product) => (
          <div key={product.id} className="border p-4 rounded-lg">
            <h2 className="text-xl font-semibold">{product.title}</h2>
            <p className="text-gray-600">${product.price}</p>
          </div>
        ))}
      </div>
    </main>
  )
}
```

## 8. Dynamic Routing

Create dynamic route pages:

1. Create `src/app/products/[id]/page.tsx`:

```tsx
interface Product {
  id: number
  title: string
  price: number
  description: string
  category: string
  image: string
}

async function getProduct(id: number): Promise<Product> {
  const res = await fetch(`https://fakestoreapi.com/products/${id}`)
  if (!res.ok) {
    throw new Error('Failed to fetch data')
  }
  return res.json()
}

export default async function ProductDetail({
  params,
}: {
  params: { id: string }
}) {
  const product = await getProduct(Number(params.id))

  return (
    <main className="min-h-screen p-24">
      <div className="max-w-4xl mx-auto">
        <div className="flex flex-col md:flex-row gap-8">
          <div className="md:w-1/3">
            <img 
              src={product.image} 
              alt={product.title}
              className="w-full h-auto object-contain"
            />
          </div>
          <div className="md:w-2/3">
            <h1 className="text-3xl font-bold mb-4">{product.title}</h1>
            <p className="text-gray-500 mb-2">{product.category}</p>
            <p className="text-2xl font-semibold mb-4">${product.price}</p>
            <p className="text-gray-700">{product.description}</p>
          </div>
        </div>
      </div>
    </main>
  )
}
```

## 9. Add Client-Side Interaction

Create client components:

1. Create `src/components/Counter.tsx`:

```tsx
'use client'

import { useState } from 'react'

export default function Counter() {
  const [count, setCount] = useState(0)

  return (
    <div className="border p-4 rounded-lg mt-4">
      <p className="text-lg">Count: {count}</p>
      <div className="flex space-x-2 mt-2">
        <button 
          onClick={() => setCount(count + 1)}
          className="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600"
        >
          Increase
        </button>
        <button 
          onClick={() => setCount(count - 1)}
          className="px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600"
        >
          Decrease
        </button>
      </div>
    </div>
  )
}
```

2. Use it in `src/app/page.tsx`:

```tsx
import Counter from '@/components/Counter'

export default function Home() {
  return (
    <main className="min-h-screen p-24">
      <h1 className="text-4xl font-bold">Welcome to My Next.js App</h1>
      <p className="mt-4 text-xl">This is my first Next.js page</p>
      <Counter />
    </main>
  )
}
```

## 10. Deploy Application

### Local Build

```bash
npm run build
npm run start
```

### Deploy to Vercel (Next.js Official Platform)

1. Push code to GitHub/GitLab/Bitbucket
2. Register Vercel account (https://vercel.com)
3. Import your Next.js project
4. Follow the wizard to complete deployment

## 11. Advanced Features

### Add API Routes

Create `src/app/api/hello/route.ts`:

```ts
import { NextResponse } from 'next/server'

export async function GET() {
  return NextResponse.json({ message: 'Hello from Next.js!' })
}
```

Visit `http://localhost:3000/api/hello` to test the API.

### Use Environment Variables

1. Create `.env.local` file
2. Add environment variables:

```
NEXT_PUBLIC_API_URL=https://api.example.com
SECRET_KEY=your-secret-key
```

3. Use in code:

```tsx
const apiUrl = process.env.NEXT_PUBLIC_API_URL
// NEXT_PUBLIC_ prefix variables can be used on the client side
```

## 12. Learning Resources

- [Next.js Official Documentation](https://nextjs.org/docs)
- [Next.js GitHub Repository](https://github.com/vercel/next.js)
- [Next.js Learning Course](https://nextjs.org/learn)

Congratulations! You now have mastered the basics of Next.js. Continue exploring more advanced features like middleware, server actions, internationalization, etc.

---